<div class="main-container">
  <div class="container-fluid">
    <nav class="navbar navbar-expand-sm navbar-white bg-white text-dark">
      <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarTogglerDemo01"
              aria-controls="navbarTogglerDemo01" aria-expanded="false" aria-label="Toggle navigation">
        <i class="fa fa-bars fa-fw" aria-hidden="true"></i>
      </button>
      <div class="collapse navbar-collapse row" id="navbarTogglerDemo01">
        <a class=" navbar-brand" [routerLink]="['/home']" (click)="setNotActive()">
          <div class="label-name">INFOLVE</div>
        </a>
        <div class="ml-auto mr-auto nav-menu-items">
          <ul class=" navbar-nav custom-navbar-nav">
            <li class="nav-item">
              <a class="nav-link" [routerLink]="['/user/categories']" [class.active]="activeLink === '/user/categories'"
                 (click)="setActiveLink('/user/categories')">CATEGORIES</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" [routerLink]="['/user/courses']" [class.active]="activeLink === '/user/courses'"
                 (click)="setActiveLink('/user/courses')">COURSES</a>
            </li>
            <li class="nav-item" *ngIf="isAuthorized">
              <a class="nav-link" [routerLink]="['/user/cabinet']" [class.active]="activeLink === '/user/cabinet'"
                 (click)="setActiveLink('/user/cabinet')">CABINET</a>
            </li>
            <li *ngIf="isAuthorizedAdmin && isAuthorized" class="dropdown nav-item">
              <a class="nav-link dropdown-toggle" href="#" role="button" id="dropdownMenuLink" data-toggle="dropdown"
                 aria-haspopup="true" aria-expanded="false">
                ADMIN
              </a>
              <div class="dropdown-menu" aria-labelledby="dropdownMenuLink">
                <a class="dropdown-item" [routerLink]="['/admin/audit']">ADMIN AUDIT</a>
                <a class="dropdown-item" [routerLink]="['/admin/transactionsaudit']">ADMIN CREDITS TRANSACTIONS AUDIT</a>
                <a class="dropdown-item" [routerLink]="['/admin/categories']">ADMIN CATEGORIES</a>
                <a class="dropdown-item" [routerLink]="['/admin/courses']">ADMIN COURSES</a>
                <a class="dropdown-item" [routerLink]="['/admin/users']">ADMIN USERS</a>
                <a class="dropdown-item" [routerLink]="['/admin/decks']">ADMIN DECKS</a>
              </div>
            </li>
            <li *ngIf="isAuthorized" class="nav-item">
              <a class="nav-link" [routerLink]="['/user/profile']" [class.active]="activeLink === '/user/profile'"
                 (click)="setActiveLink('/user/profile')">PROFILE</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" [routerLink]="['/about']" [class.active]="activeLink === '/about'" (click)="setActiveLink('/about')">ABOUT</a>
            </li>
          </ul>
        </div>
        <div class="navbar-nav my-navbar-nav">
          <a class="nav-link align-self-center" [routerLink]="['/home']"><i class="fa fa-search fa-fw" aria-hidden="true"></i></a>
          <a class="align-self-center" *ngIf="isAuthorized" [routerLink]="['/user/profile']">
          <form class="search-form">
            <div class="form-group has-feedback" id="search-form">
              <input [(ngModel)] = "searchString" type="text" class="form-control" name="search" id="search" placeholder="Search">
              <span class = "icon"><a class="" [routerLink]="['/search']" (click)="onSearchClick()"><i class="fa fa-search fa-fw" aria-hidden="true"></i></a></span>
            </div>
          </form>
          <a *ngIf="isAuthorized" [routerLink]="['/user/profile']">
            <img *ngIf="image; else default_image" class="user-image" src="{{image}}">
            <ng-template #default_image>
              <img class="user-image" src="../../../assets/images/avatar.png">
            </ng-template>
          </a>
          <div *ngIf="(isAuthorized && userDetails)">
            <div class="nav-item username ">{{userDetails.firstName}}</div>
            <div class="nav-item email">{{userDetails.email}}</div>
            <div class="nav-item text-center"><i class="fa fa-money" aria-hidden="true"></i> {{userDetails.pointsBalance}} <span>pts</span></div>
          </div>
          <div *ngIf="!isAuthorized" class="nav-item align-self-center">
            <a class="nav-link" [routerLink]="['/register']" [class.active]="activeLink === '/register'"
               (click)="setActiveLink('/register')"><i class="fa fa-user-plus fa-fw" aria-hidden="true"></i>SIGN
              UP</a>
          </div>
          <div *ngIf="!isAuthorized" class="nav-item align-self-center">
            <a class="nav-link" [routerLink]="['/login']" [class.active]="activeLink === '/login'"
               (click)="setActiveLink('/login')"><i class="fa fa-sign-in fa-fw" aria-hidden="true"></i>SIGN
              IN</a>
          </div>
          <div *ngIf="isAuthorized" class="nav-item logout-item align-self-center">
            <a class="nav-link logout" (click)="logoutUser()"><i class="fa fa-sign-out fa-fw" aria-hidden="true"></i>SIGN
              OUT</a>
          </div>
        </div>
      </div>
    </nav>
  </div>
  <router-outlet></router-outlet>
  <footer class="footer">
    <div class="container-footer">
      <p class="rights">
        &#169; Infolve | All right reserved
      </p>
    </div>
  </footer>
</div>
